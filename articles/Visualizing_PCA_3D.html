<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualizing PCA in 3D • LearnPCA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Visualizing PCA in 3D">
<meta property="og:description" content="LearnPCA">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LearnPCA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Conceptual_Intro_PCA.html">A Conceptual Introduction to PCA</a>
    </li>
    <li>
      <a href="../articles/Functions_PCA.html">A Comparison of Functions for PCA</a>
    </li>
    <li>
      <a href="../articles/Math_Behind_PCA.html">The Math Behind PCA</a>
    </li>
    <li>
      <a href="../articles/Scores_Loadings.html">Understanding Scores and Loadings</a>
    </li>
    <li>
      <a href="../articles/Start_Here.html">A Guide to the LearnPCA Package</a>
    </li>
    <li>
      <a href="../articles/Step_By_Step_PCA.html">Step-by-Step PCA</a>
    </li>
    <li>
      <a href="../articles/Visualizing_PCA_3D.html">Visualizing PCA in 3D</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bryanhanson/LearnPCA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Visualizing PCA in 3D</h1>
                        <h4 data-toc-skip class="author">David T. Harvey<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>
</h4>
                        <h4 data-toc-skip class="author">Bryan A. Hanson<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>
</h4>
            
            <h4 data-toc-skip class="date">2022-02-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bryanhanson/LearnPCA/blob/HEAD/vignettes/Visualizing_PCA_3D.Rmd" class="external-link"><code>vignettes/Visualizing_PCA_3D.Rmd</code></a></small>
      <div class="hidden name"><code>Visualizing_PCA_3D.Rmd</code></div>

    </div>

    
    
<pre><code><span class="co">## Warning in fun(libname, pkgname): no display name and no $DISPLAY environment</span>
<span class="co">## variable</span></code></pre>
<!-- This chunk inserts common info about all the vignettes -->
<!-- ======================================================================= -->
<div class="top-matter">
<p><em>This vignette is based upon <code>LearnPCA</code> version 0.1.4.</em></p>
<p><code>LearnPCA</code> provides the following vignettes: <a name="top-matter"></a></p>
<ul>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles/Start_Here.html" class="external-link">Start Here</a></li>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles/Conceptual_Intro_PCA.html" class="external-link">A Conceptual Introduction to PCA</a></li>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles/Step_By_Step_PCA.html" class="external-link">Step By Step PCA</a></li>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles//Scores_Loadings.html" class="external-link">Understanding Scores &amp; Loadings</a></li>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles/Visualizing_PCA_3D.html" class="external-link">Visualizing PCA in 3D</a></li>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles/Math_Behind_PCA.html" class="external-link">The Math Behind PCA</a></li>
<li><a href="http://bryanhanson.github.io/LearnPCA/articles/Functions_PCA.html" class="external-link">PCA Functions</a></li>
<li>To access the vignettes with <code>R</code>, simply type <code>browseVignettes("LearnPCA")</code> to get a clickable list in a browser window.</li>
</ul>
<p><strong>Vignettes are available in both pdf (on CRAN) and html formats (at Github). </strong></p>
</div>
<!-- ======================================================================= -->
<p><strong>We strongly suggest viewing the html version of this vignette to take advantage of the interactive graphics.</strong></p>
<p>One simple explanation of PCA is that it is the creation of a new set of axes, rotated relative to the original axes, that serves as a new coordinate system for understanding the relationships between the samples. The <a href="#top-matter">Understanding Scores &amp; Loadings</a> vignette illustrates this process in 2D. As the number of dimensions increases however, it becomes difficult to visualize because we are limited by our inability to see in more than three dimensions. A flock of birds that suddenly takes flight is an easy to understand description of a cloud of data in three dimensions. But what does a cloud of data look like in four (or more) dimensions? The goal of this vignette is to start with a cloud of data in three dimensions and visually explore how the shape of this cloud changes as we go through the process of completing a PCA analysis.</p>
<div class="section level2">
<h2 id="visualizing-the-original-data-set">Visualizing The Original Data Set<a class="anchor" aria-label="anchor" href="#visualizing-the-original-data-set"></a>
</h2>
<p>The data for this vignette consists of 205 points drawn at random from within the boundaries of an ellipsoid that has a length of 30, a width of 18, and a height of 4 – think of a flattened football. Figure <a href="#fig:origData">1</a> shows the three-dimensional cloud of data as light blue points and the three axes that define the data as black lines. These axes are not the principal component axes, they are the usual x, y and z axes.</p>
<div class="figure">
<span style="display:block;" id="fig:origData"></span>
<iframe src="Graphics/origData.html" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 1: Three-dimensional plot of data ( light blue points) showing the x, y, and z-axes ( black lines) that represent the three measured variables.
</p>
</div>
</div>
<div class="section level2">
<h2 id="the-first-principal-component">The First Principal Component<a class="anchor" aria-label="anchor" href="#the-first-principal-component"></a>
</h2>
<p>Although the three axes in Figure <a href="#fig:origData">1</a> define the location of the individual data points in space, <em>any other set of three mutually perpendicular axes will accomplish the same thing</em>. Our goal is to find three specific axes such that the first axis conveys the most information about the data and the third, and final axis explains any remaining information about the data.</p>
<p>You might be able to guess where the first principal component axis lies
if you rotate Figure <a href="#fig:origData">1</a> and look at the two-dimensional x,y-plane, the y,z-plane, and the x,z-plane. The three projections are consistent with an ellipsoid whose length is greater than its width (see the x,y-plane), and whose width is greater than its height (see y,z-plane).</p>
<blockquote>
<p>For those viewing the pdf version of this vignette and thus cannot rotate the view of the original data, we offer a bonus view to help you predict where the first principal component axis will lie (if you are viewing the html version you will not see the figure, but will see “Figure ??” in the next sentence). Figure <a href="#fig:bonus"><strong>??</strong></a> shows the same cloud of data as light blue points in three dimensions, and projections of the data, as pink points, onto the two-dimensional x,y-plane, the y,z-plane, and the x,z-plane (in other words, the data is projected onto the “walls” of the figure). The three projections are consistent with an ellipsoid whose length is greater than its width (see the x,y-plane), and whose width is greater than its height (see y,z-plane).</p>
</blockquote>
<p>Let’s see how your guess about the first principal component worked out. If we run the PCA and display the first principal component axis, we see that it runs along the long axis of the data cloud. Figure <a href="#fig:pc1b">2</a> shows the first principal component axis relative to the three-dimensional cloud of data seen in Figure <a href="#fig:origData">1</a>. The first principal component accounts for 68.5% of the variation in the data.</p>
<!-- **There is an interesting philosophical question here. Although I added a prcomp analysis into the prepData code block so that it is available---and used it to report variances explained by the PCs---I do not use it to define the PC axes. I'm "cheating" a bit here. The original data is defined as an ellipsoid with values along the x-axis having a greater range than the values along the y-axis, which have a greater range than the values along the z-axis. The theoretical PC axes are, then, the x-axis, the y-axis, and the z-axis, respectively. Including lots of data points means that the theoretical and calculated PCs should align closely. I then used a rotation function to rotate the data and the theoretical PC axes in space so that there is no obvious alignment of the PCs with the x, y, and z-axes. My goal is visual, so rotating the theoretical PCs seems okay. Doing things this way made it much easier to do the plotting. ** -->
<div class="figure">
<span style="display:block;" id="fig:pc1b"></span>
<iframe src="Graphics/pc1b.html" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 2: The original data (as light blue points) and the first principal component axis (as a brown line).
</p>
</div>
</div>
<div class="section level2">
<h2 id="the-second-principal-component">The Second Principal Component<a class="anchor" aria-label="anchor" href="#the-second-principal-component"></a>
</h2>
<p>To visualize the second principal component axis, we first project the data From Figure <a href="#fig:origData">1</a> onto a plane perpendicular to the first principal component axis shown in Figure <a href="#fig:pc1b">2</a>. Figure <a href="#fig:pc2a">3</a> shows this where the brown line is the first principal component, the light blue box highlights a portion of the plane perpendicular to the first principal component axis, and the points in light blue are the projections of the original data from Figure <a href="#fig:origData">1</a> onto this plane. With this view we get a solid idea of where the second principal component axis will be.</p>
<div class="figure">
<span style="display:block;" id="fig:pc2a"></span>
<iframe src="Graphics/pc2a.html" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 3: The first principal component ( brown line) and the projection of the original data ( light blue points) onto the plane perpendicular to the first principal component (shown with a light blue boundary).
</p>
</div>
<p>Of course we don’t need to guess! Figure <a href="#fig:pc2b">4</a>, shows the second principal component axis as a dashed brown line. The second principal component accounts for 30.3% of the variation in the data; together, the first two principal components account for 98.8% of the variation in the data.</p>
<div class="figure">
<span style="display:block;" id="fig:pc2b"></span>
<iframe src="Graphics/pc2b.html" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 4: The result of adding the second principal component axis to the previous figure. The first principal component axis is the solid brown line and the second principal component axis is the dashed brown line.
</p>
</div>
</div>
<div class="section level2">
<h2 id="the-third-principal-component">The Third Principal Component<a class="anchor" aria-label="anchor" href="#the-third-principal-component"></a>
</h2>
<p>With the first two principal components in place, the last principal component is the only axis we can draw that is perpendicular to the two existing principal components. Figure <a href="#fig:pc3">5</a> shows the original cloud of data and all three principal component axes. In this example, the first principal component is aligned with ellipsoid’s length, the second principal component is aligned with its width, and the third principal component is aligned with its height.</p>
<div class="figure">
<span style="display:block;" id="fig:pc3"></span>
<iframe src="Graphics/pc3.html" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 5: The original data ( light blue points) and the three three principal component axes ( brown lines). The solid line is the first principal component, the dashed line is the second principal component, and the dotted line is the third principal component.
</p>
</div>
</div>
<div class="section level2">
<h2 id="how-pca-changes-the-data-cloud">How PCA Changes the Data Cloud<a class="anchor" aria-label="anchor" href="#how-pca-changes-the-data-cloud"></a>
</h2>
<p>Although you can see this in the figures above, it merits additional emphasis here: the process of reducing the data to a lower dimension after we identify a principal component axis results in the data becoming more compact with less variation in the range of individual values. This is what we mean when we say that each principal component axis explains the greatest variability in the data in its current form. Figure <a href="#fig:dataClouds">6</a> shows how the data cloud becomes smaller in size as we decrease the dimensions of the data from (a) three, to (b) two, and to (c) one dimension; panel (d) provides a closer view of panel (c), making the individual points visible. The brown lines in (a), (b), and (c) show the principal component axes at each step in the analysis.</p>
<div class="figure">
<span style="display:block;" id="fig:dataClouds"></span>
<img src="Visualizing_PCA_3D_files/figure-html/dataClouds-1.png" alt="How the data (in light blue ) changes during PCA: (a) the original data in three dimensions; (b) the data after reducing to two dimensions; (c) the data after reducing to one dimension; (d) close up of (c) making it easier to see the individual data points. The brown lines are the principal component axes at each step in the PCA analysis." width="672"><p class="caption">
Figure 6: How the data (in light blue ) changes during PCA: (a) the original data in three dimensions; (b) the data after reducing to two dimensions; (c) the data after reducing to one dimension; (d) close up of (c) making it easier to see the individual data points. The brown lines are the principal component axes at each step in the PCA analysis.
</p>
</div>
</div>
<div class="section level2">
<h2 id="final-thoughts">Final Thoughts<a class="anchor" aria-label="anchor" href="#final-thoughts"></a>
</h2>
<p>The data sets in LearnPCA—and, more importantly, the data sets from your teaching and research projects—likely have significantly more than three variables. Although you cannot plot and examine your data set as we did here for a system with three variables, the process remains the same: rotate the coordinate system to find the principal component axis that best explains the data in <em>n</em> dimensions, project the data onto the <span class="math inline">\(n - 1\)</span> dimensional surface that is perpendicular to your first principal component axis, and repeat until original set of <em>n</em> original axes is replaced with a set of <em>n</em> principal component axes.</p>
<!-- Insert refer_to_works_consulted document -->
</div>
<div class="section level2">
<h2 id="works-consulted">Works Consulted<a class="anchor" aria-label="anchor" href="#works-consulted"></a>
</h2>
<p>In addition to references and links in this document, please see the <a href="http://bryanhanson.github.io/LearnPCA/articles/Start_Here.html#works-consulted" class="external-link">Works Consulted</a> section of the <em>Start Here</em> vignette for general background.</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Professor of Chemistry &amp; Biochemistry, DePauw University, Greencastle IN USA., <a href="mailto:harvey@depauw.edu" class="email">harvey@depauw.edu</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Professor Emeritus of Chemistry &amp; Biochemistry, DePauw University, Greencastle IN USA., <a href="mailto:hanson@depauw.edu" class="email">hanson@depauw.edu</a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Bryan A. Hanson, David T. Harvey.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
